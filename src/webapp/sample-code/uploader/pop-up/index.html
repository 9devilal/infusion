<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<title>Fluid Multi-File Uploader Pop-up Sample</title>

	<link href="../upload-sample.css" type="text/css" rel="stylesheet" media="all" />
	<link href="../../../fluid-components/css/infusion-theme.css" rel="stylesheet" type="text/css" />
	<link href="../../../fluid-components/css/Uploader.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="../../shared/jquery/flora.dialog.css" type="text/css" media="screen" title="Flora (Default)" />
 
	<script src="../../../fluid-components/js/jquery/jquery-1.2.3.js" type="text/javascript"></script>
	<script src="../../../fluid-components/js/jquery/jquery.dimensions.js" type="text/javascript"></script>
	<script src="../../../fluid-components/js/jquery/ui.base.js" type="text/javascript"></script>
	<script src="../../../fluid-components/js/jquery/ui.dialog.js" type="text/javascript"></script>
	<script src="../../../fluid-components/js/jquery/ui.draggable.js" type="text/javascript"></script>
	<script src="../../../fluid-components/js/swfupload/swfupload.js" type="text/javascript"></script>
	<script src="../../../fluid-components/js/fluid/Fluid.js" type="text/javascript"></script>
	<script src="../../../fluid-components/js/fluid/Uploader.js" type="text/javascript"></script>
	<script language="JavaScript" type="text/javascript">
	    
	    // set to empty to use demo upload js code instead actual server side upload handlers
		// uploadURL = "../../sample-code/uploader/php/upload.php"; // relative to the swf file
	    var uploadURL = "";
        var flashURL = "../../../fluid-components/swfupload/swfupload_f9.swf";
        
		var settings = {
			whenDone: "index.html",
			whenCancel: "index.html",
			continueAfterUpload: false,
			dialogDisplay: true,
			queueListMaxHeight: 190,
			debug: false
		};
		
		var dialog_settings = {
			title: "Upload Files", 
			width: 482,
			height: '',
			position: 'top',
			draggable: true, 
			modal:true, 
			resizable: false
		};
		
        var myUpload; // mostly used for testing
        
		$(document).ready(function() {
			jQuery("#single-popup-fluid-uploader").hide();
            myUpload = new fluid.Uploader("#single-popup-fluid-uploader", uploadURL, flashURL, settings);
			jQuery(".add-btn").click(function () {
				jQuery("#single-popup-fluid-uploader").dialog(dialog_settings).show();
			});
			jQuery("#single-popup-fluid-uploader").dialog(dialog_settings).show(); // DEBUG
    	});
	</script>
	<style type="text/css">
		.add-btn {
			background: url(../images/add.png) no-repeat 3px 2px;
			padding: 2px 2px 1px 21px;
			font-size: 12px;
			cursor: hand;
		}
		
		caption {
			display: none;
		}
				
	</style>
</head>
<body>
	<div>
		<h2>Fluid Multi-File Uploader Sample</h2>
		<p>Imagine your application here with a nice little <button class="add-btn" type="button">Add Files</button> button.</p>
 	
	<form id="single-popup-fluid-uploader" class="fluid-uploader infusion" method="get" enctype="multipart/form-data">
		<div class="inner-container start">
			<div class="fluid-scroller-table fluid-uploader-queue">
				<div class="fluid-scoller-table-head">
					<table cellspacing="0" cellpadding="0">
						<caption>File Queue:</caption>
						<thead>
							<tr>
								<th scope="col">File Name</th><th scope="col" class="fileSize">Size</th><th scope="col">&nbsp;</th>
							</tr>
						</thead>
					</table>
				</div>
				<div class="fluid-scoller-table-body">
					<table cellspacing="0">
						<tbody>
							<tr class="fluid-uploader-row-placeholder"><td colspan="3"> click <em>Browse files</em> to add files to the queue </td></tr>
						</tbody>
					</table>
				</div>
				<div class="fluid-scoller-table-foot">
					<table cellspacing="0" cellpadding="0">
						<tfoot>
							<tr>
								<td colspan="1">Total: <span class="fluid-uploader-totalFiles">0</span> files (<span class="fluid-uploader-totalBytes">0 KB</span>)</td>
								<td colspan="2" align="left"><a class="fluid-uploader-browse">Browse files</a></td>
		
							</tr>
						</tfoot>
					</table>
				</div>
			</div>			
			<div class="fluid-uploader-btns">
				<button type="button" class="fluid-uploader-cancel cancel" >Cancel</button>
				<button type="button" class="fluid-uploader-upload default" >Upload</button>
			</div>
			
			<div class="fluid-progress">
				<div class="progress-content">
					<h2>Uploading Files...</h2>
					<div class="file-progress progressor">
						<label class="progress-label">
							<span class="file_name">&nbsp;</span> :: <span class="percent">0</span>% complete
						</label>
						<div class="progress-indicator"><span>&nbsp;</span></div>
					</div>
					<div class="total-progress progressor">
						<label class="progress-label">
							Total Progress: <span class="percent">0</span>% [<span class="file_index">0</span> of <span class="total_file_num">0</span> files]
						</label>
						<div class="progress-indicator">&nbsp;</div>
					</div>
					<div align="right">
						<button type="button" class="fluid-uploader-pause default">Pause Upload</button>
					</div>
				</div>
				<div class="progress-mask">
					<div class="progress-mask-top">&nbsp;</div>
					<div class="progress-mask-btm">&nbsp;</div>
				</div>
			</div>
			
		</div>
	</form>

	</div>
</body>
</html>
